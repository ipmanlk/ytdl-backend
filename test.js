var selectedVid, selectedVidUrl; function onReady() { eventListenersRegister() } function eventListenersRegister() { $("#btnSearch").on("click", btnSearchClick), $("#btnDownload").on("click", btnDownloadClick) } function listItemSelect() { $(".list-group-item").removeClass("active"), $(this).addClass("active") } function btnSearchClick() { selectedVidUrl = $("#txtUrl").val(), /http(?:s?):\/\/(?:www\.)?youtu(?:be\.com\/watch\?v=|\.be\/)([\w\-\_]*)(&(amp;)?‌​[\w\?‌​=]*)?/.test(selectedVidUrl) ? ($("#txtUrlGroup").removeClass("has-error"), $("#txtUrlGroup").addClass("has-success"), $("#progressSearch").fadeIn(), $("#btnSearch").attr("disabled", !0), requestSend("details", { url: selectedVidUrl }, function (t) { listDownloadsAppend(JSON.parse(t)), $("#progressSearch").fadeOut(), $("#btnSearch").attr("disabled", !1) })) : ($("#txtUrlGroup").removeClass("has-success"), $("#txtUrlGroup").addClass("has-error")) } function listDownloadsAppend(t) { $("#listDownloads").empty(); for (let e = 0; e < t.length; e++)t[e].type, $("#listDownloads").append(`\n\t\t\t\t\t\t<a onclick="downloadSelect('${selectedVidUrl}', '${t[e].code}')" class="list-group-item">\n\t\t\t\t\t\t\t${t[e].type} - ${t[e].format} - ${t[e].quality} - ${t[e].size} \n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t`); $(".list-group-item").on("click", listItemSelect), $("#panelSearch").hide(), $("#panelDown").fadeIn() } function downloadSelect(t, e) { selectedVid = { url: t, code: e }, $("#btnDownload").attr("disabled", !1) } function requestSend(t, e, n) { let s; s = "details" == t ? "https://s1.navinda.xyz/youtube/details.php" : "https://s1.navinda.xyz/youtube/download.php", $.ajax({ url: s, method: "GET", data: e, success: function (t) { n(t) } }) } function btnDownloadClick() { $("#btnDownload").attr("disabled", !0), $("#progressDown").fadeIn(), requestSend("download", selectedVid, function (t) { $("#progressDown").fadeOut(), window.location = t }) } $(document).ready(onReady);